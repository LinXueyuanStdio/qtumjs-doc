
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>QtumJS API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;typescript&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="typescript">typescript</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#running-qtum-rpc" class="toc-h2 toc-link" data-title="Running Qtum RPC">Running Qtum RPC</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#erc20-example" class="toc-h1 toc-link" data-title="ERC20 Example">ERC20 Example</a>
          </li>
          <li>
            <a href="#contract" class="toc-h1 toc-link" data-title="Contract">Contract</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#constructor" class="toc-h2 toc-link" data-title="constructor">constructor</a>
                  </li>
                  <li>
                    <a href="#call" class="toc-h2 toc-link" data-title="call">call</a>
                  </li>
                  <li>
                    <a href="#send" class="toc-h2 toc-link" data-title="send">send</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#types-lexicon" class="toc-h1 toc-link" data-title="Types Lexicon">Types Lexicon</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#icontractcallresult" class="toc-h2 toc-link" data-title="IContractCallResult">IContractCallResult</a>
                  </li>
                  <li>
                    <a href="#icontractsendrequestoptions" class="toc-h2 toc-link" data-title="IContractSendRequestOptions">IContractSendRequestOptions</a>
                  </li>
                  <li>
                    <a href="#icontractsendresult" class="toc-h2 toc-link" data-title="IContractSendResult">IContractSendResult</a>
                  </li>
                  <li>
                    <a href="#irpcgettransactionresult" class="toc-h2 toc-link" data-title="IRPCGetTransactionResult">IRPCGetTransactionResult</a>
                  </li>
                  <li>
                    <a href="#icontractsendreceipt" class="toc-h2 toc-link" data-title="IContractSendReceipt">IContractSendReceipt</a>
                  </li>
              </ul>
          </li>
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<blockquote>
<p>To install qtumjs</p>
</blockquote>
<pre class="highlight plaintext"><code>npm install qtumjs
</code></pre>
<p>QtumJS is a JavaScript library for developing DApp on the Qtum blockchain. You can use this library to develop frontend UI that runs in the browser, as well as backend server scripts that run in NodeJS.</p>

<p>The main classes are:</p>

<table><thead>
<tr>
<th>Class</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>QtumRPCRaw</td>
<td>Direct access to <code>qtumd</code>&#39;s blockchain RPC service, using JSONRPC 1.0 calling convention.</td>
</tr>
<tr>
<td>QtumRPC</td>
<td>Wrapper for <code>QtumRPCRaw</code>, to provide interface like JSONRPC 2.0.</td>
</tr>
<tr>
<td>Contract</td>
<td>An abstraction for interacting with smart contracts. Handles <a href="https://github.com/ethereum/wiki/wiki/Ethereum-Contract-ABI">ABI encoding/decoding</a>.</td>
</tr>
</tbody></table>

<p>QtumJS is developed using <a href="https://www.typescriptlang.org/">TypeScript</a>, and as such, comes with robust type definitions for all the APIs. We recommend using <a href="https://code.visualstudio.com/">VSCode</a> to take advantage of language support, such as type hinting and autocompletion.</p>

<p>But you can also choose to use plain JavaScript and notepad if you prefer.</p>

<p>This document is the reference for QtumJS API, and its basic uses. For a tutorial-style introduction to QtumJS, see: <a href="https://github.com/qtumproject/qtumbook/blob/master/part2/erc20-js.md">QtumBook - ERC20 With QtumJS</a>.</p>
<h2 id='running-qtum-rpc'>Running Qtum RPC</h2>
<blockquote>
<p>To run qtumd in development mode.</p>
</blockquote>
<pre class="highlight plaintext"><code>docker run -it --rm \
  --name myapp \
  -v `pwd`:/dapp \
  -p 3889:3889 \
  hayeah/qtumportal
</code></pre>
<blockquote>
<p>To run qtumd for the test network (testnet):</p>
</blockquote>
<pre class="highlight plaintext"><code>docker run -it --rm \
  --name myapp \
  -e "QTUM_NETWORK=testnet" \
  -v `pwd`:/dapp \
  -p 3889:3889 \
  hayeah/qtumportal
</code></pre>
<p>QtumJS relies on <code>qtumd</code> to provide the JSON-RPC service for accessing the QTUM blockchain.</p>

<p>For more details, see: <a href="https://github.com/qtumproject/qtumbook/blob/master/SUMMARY.md#part-1---running-qtum">QtumBook - Running QTUM</a>.</p>

<aside class="notice">
The default JSON-RPC credential is "qtum:test", running on port 3889
</aside>
<h1 id='erc20-example'>ERC20 Example</h1><pre class="highlight javascript"><code><span class="kr">import</span> <span class="p">{</span>
  <span class="nx">QtumRPC</span><span class="p">,</span>
  <span class="nx">Contract</span><span class="p">,</span>
<span class="p">}</span> <span class="nx">from</span> <span class="s2">"qtumjs"</span>

<span class="kr">const</span> <span class="nx">repo</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"./solar.json"</span><span class="p">)</span>

<span class="c1">// Connect to docker qtumd JSON-RPC service</span>
<span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">QtumRPC</span><span class="p">(</span><span class="s2">"http://qtum:test@localhost:3889"</span><span class="p">)</span>

<span class="kr">const</span> <span class="nx">myToken</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Contract</span><span class="p">(</span><span class="nx">rpc</span><span class="p">,</span> <span class="nx">repo</span><span class="p">.</span><span class="nx">contracts</span><span class="p">[</span>
  <span class="s2">"zeppelin-solidity/contracts/token/CappedToken.sol"</span>
<span class="p">])</span>

<span class="nx">async</span> <span class="kd">function</span> <span class="nx">transfer</span><span class="p">(</span><span class="nx">fromAddr</span><span class="p">,</span> <span class="nx">toAddr</span><span class="p">,</span> <span class="nx">amount</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">tx</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">myToken</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s2">"transfer"</span><span class="p">,</span> <span class="p">[</span><span class="nx">toAddr</span><span class="p">,</span> <span class="nx">amount</span><span class="p">],</span> <span class="p">{</span>
    <span class="na">senderAddress</span><span class="p">:</span> <span class="nx">fromAddr</span><span class="p">,</span>
  <span class="p">})</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"transfer tx:"</span><span class="p">,</span> <span class="nx">tx</span><span class="p">.</span><span class="nx">txid</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tx</span><span class="p">)</span>

  <span class="nx">await</span> <span class="nx">tx</span><span class="p">.</span><span class="nx">confirm</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"transfer confirmed"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<p>Assuming that <code>solar.json</code> contains information about your deployed contracts,
you can use qtumjs to call the token contract&#39;s method to transfer tokens.</p>

<p>The complete example: <a href="https://github.com/qtumproject/qtumbook-mytoken-qtumjs-cli">qtumproject/qtumbook-mytoken-qtumjs-cli</a></p>

<p>For contract deployment, see <a href="https://github.com/qtumproject/solar">Solar Smart Contract Deployment Tool</a>.</p>

<p>For fleshed out tutorial, see <a href="https://github.com/qtumproject/qtumbook/blob/master/part2/erc20-js.md">QtumBook - ERC20 With QtumJS</a>.</p>
<h1 id='contract'>Contract</h1>
<p>A class abstraction for interacting with a Smart Contract.</p>

<p>This is a more convenient API than using <code>QtumRPC</code> to directly call the RPC&#39;s <code>sendcontract</code> and <code>calltocontract</code> methods. It handles ABI encoding, to convert between JS and Solidity values.</p>

<ul>
<li>API for confirming transactions.</li>
<li>API for invoking contract&#39;s methods using <code>call</code> or <code>send</code> .</li>
<li>API for getting contract&#39;s log events.</li>
</ul>
<h2 id='constructor'>constructor</h2><pre class="highlight javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">QtumRPC</span><span class="p">(</span><span class="s2">"http://qtum:test@localhost:3889"</span><span class="p">)</span>

<span class="kr">const</span> <span class="nx">myToken</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Contract</span><span class="p">(</span><span class="nx">rpc</span><span class="p">,</span> <span class="nx">repo</span><span class="p">.</span><span class="nx">contracts</span><span class="p">[</span>
  <span class="s2">"zeppelin-solidity/contracts/token/CappedToken.sol"</span>
<span class="p">])</span>
</code></pre>
<blockquote>
<p>The contract <a href="https://github.com/qtumproject/qtumbook-mytoken-qtumjs-cli/blob/29fab6dfcca55013c7efa8ee5e91bbc8c40ca55a/solar.development.json.example#L3">info</a> is generated by <a href="https://github.com/qtumproject/solar">solar</a>.</p>
</blockquote>

<table><thead>
<tr>
<th>Arg</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rpc</td>
<td>QtumRPC</td>
<td>The RPC instance used to interact with the contract.</td>
</tr>
<tr>
<td>info</td>
<td>IContractInfo</td>
<td>Information for the deployed contract</td>
</tr>
</tbody></table>
<h2 id='call'>call</h2><pre class="highlight javascript"><code><span class="nx">async</span> <span class="kd">function</span> <span class="nx">totalSupply</span><span class="p">()</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">myToken</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="s2">"totalSupply"</span><span class="p">)</span>

  <span class="c1">// supply is a BigNumber instance (see: bn.js)</span>
  <span class="kr">const</span> <span class="nx">supply</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">outputs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"supply"</span><span class="p">,</span> <span class="nx">supply</span><span class="p">.</span><span class="nx">toNumber</span><span class="p">())</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example output:</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span> <span class="nl">address</span><span class="p">:</span> <span class="s1">'a778c05f1d0f70f1133f4bbf78c1a9a7bf84aed3'</span><span class="p">,</span>
  <span class="nx">executionResult</span><span class="p">:</span>
   <span class="p">{</span> <span class="nl">gasUsed</span><span class="p">:</span> <span class="mi">21689</span><span class="p">,</span>
     <span class="nx">excepted</span><span class="p">:</span> <span class="s1">'None'</span><span class="p">,</span>
     <span class="nx">newAddress</span><span class="p">:</span> <span class="s1">'a778c05f1d0f70f1133f4bbf78c1a9a7bf84aed3'</span><span class="p">,</span>
     <span class="nx">output</span><span class="p">:</span> <span class="s1">'00000000000000000000000000000000000000000000000000000000000036b0'</span><span class="p">,</span>
     <span class="nx">codeDeposit</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
     <span class="nx">gasRefunded</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
     <span class="nx">depositSize</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
     <span class="nx">gasForDeposit</span><span class="p">:</span> <span class="mi">0</span> <span class="p">},</span>
  <span class="nx">transactionReceipt</span><span class="p">:</span>
   <span class="p">{</span> <span class="nl">stateRoot</span><span class="p">:</span> <span class="s1">'5a0d9cd5df18165c75755f4345ca81da94f9247c1c031171fd6e2ce1a368844c'</span><span class="p">,</span>
     <span class="nx">gasUsed</span><span class="p">:</span> <span class="mi">21689</span><span class="p">,</span>
     <span class="nx">bloom</span><span class="p">:</span> <span class="s1">'0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000'</span><span class="p">,</span>
     <span class="nx">log</span><span class="p">:</span> <span class="p">[]</span> <span class="p">},</span>
  <span class="nx">outputs</span><span class="p">:</span> <span class="p">[</span> <span class="o">&lt;</span><span class="nx">BN</span><span class="p">:</span> <span class="mi">36</span><span class="nx">b0</span><span class="o">&gt;</span> <span class="p">]</span> <span class="p">}</span>
</code></pre>
<p>Executes contract method on your own local qtumd node as a &quot;simulation&quot;, returning results, but not changing the blockchain.</p>

<p>This is free.</p>

<table><thead>
<tr>
<th>Arg</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>method</td>
<td>string</td>
</tr>
<tr>
<td></td>
<td>Name of the contract method.</td>
</tr>
<tr>
<td>args</td>
<td>Array&lt;any&gt;</td>
</tr>
<tr>
<td></td>
<td>Arguments for calling the method</td>
</tr>
<tr>
<td>opts</td>
<td>IContractCallRequestOptions</td>
</tr>
<tr>
<td></td>
<td>call options</td>
</tr>
<tr>
<td>@return</td>
<td>Promise&lt;IContractCallResult&gt;</td>
</tr>
<tr>
<td></td>
<td>call result, with ABI decoded outputs</td>
</tr>
</tbody></table>

<p>Reference: <a href="#icontractcallresult">IContractCallResult</a></p>
<h2 id='send'>send</h2><pre class="highlight javascript"><code><span class="nx">async</span> <span class="kd">function</span> <span class="nx">mint</span><span class="p">(</span><span class="nx">toAddr</span><span class="p">,</span> <span class="nx">amount</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Submit a `sendtocontract` transaction, invoking the `mint` method.</span>
  <span class="kr">const</span> <span class="nx">tx</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">myToken</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s2">"mint"</span><span class="p">,</span> <span class="p">[</span><span class="nx">toAddr</span><span class="p">,</span> <span class="nx">amount</span><span class="p">])</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"tx:"</span><span class="p">,</span> <span class="nx">tx</span><span class="p">)</span>

  <span class="c1">// Wait for 3 confirmations. The callback receives the</span>
  <span class="c1">// updated transaction info for each additional confirmation.</span>
  <span class="nx">await</span> <span class="nx">tx</span><span class="p">.</span><span class="nx">confirm</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">(</span><span class="nx">updatedTx</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"new confirmation"</span><span class="p">,</span> <span class="nx">updatedTx</span><span class="p">.</span><span class="nx">txid</span><span class="p">,</span> <span class="nx">updatedTx</span><span class="p">.</span><span class="nx">confirmations</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example output:</p>
</blockquote>
<pre class="highlight plaintext"><code>mint tx: 858347704258506012f538b19b9702d636dc350bc25a7e60d404bf3d2c08efd9
{ amount: 0,
  fee: -0.081064,
  confirmations: 0,
  trusted: true,
  txid: '858347704258506012f538b19b9702d636dc350bc25a7e60d404bf3d2c08efd9',
  walletconflicts: [],
  time: 1515475961,
  timereceived: 1515475961,
  'bip125-replaceable': 'no',
  details:
   [ { account: '',
       category: 'send',
       amount: 0,
       vout: 0,
       fee: -0.081064,
       abandoned: false } ],
  hex: '0200000001006a977de70014fdc2546ed19a531326086c6c9631cb1c5352db5f09e147736b0100000049483045022100b4ca32770a9f42679c6d20b7ddb5feb160303fceafc2db0fedba18a22f0b643602203c2568eb689fd324e76a12f367552fe4cce36b29f8174738209f881959aadbab01feffffff02000000000000000063010403400d0301284440c10f19000000000000000000000000dcd32b87270aeb980333213da2549c9907e09e94000000
00000000000000000000000000000000000000000000000000000003e814a778c05f1d0f70f1133f4bbf78c1a9a7bf84aed3c2601e72902e0000001976a914dcd32b87270aeb980333213da2549c9907e09e9488ac212e0000',
  method: 'mint',
  confirm: [Function: confirm] }
</code></pre>
<blockquote>
<p>The callback would print 3 times, for each confirmation:</p>
</blockquote>
<pre class="highlight plaintext"><code>new confirmation 858347704258506012f538b19b9702d636dc350bc25a7e60d404bf3d2c08efd9 1
new confirmation 858347704258506012f538b19b9702d636dc350bc25a7e60d404bf3d2c08efd9 2
new confirmation 858347704258506012f538b19b9702d636dc350bc25a7e60d404bf3d2c08efd9 3
</code></pre>
<p>Creates a transaction that executes contract method globally on the network, changing the blockchain.</p>

<p>This costs gas.</p>

<p>There are two asynchronous steps to a transaction:</p>

<ol>
<li>You submit the the transaction to the network.</li>
<li>Once submitted, wait for a required number of confirmations.</li>
</ol>

<table><thead>
<tr>
<th>Arg</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>method</td>
<td>string</td>
</tr>
<tr>
<td></td>
<td>Name of the contract method.</td>
</tr>
<tr>
<td>args</td>
<td>Array&lt;any&gt;</td>
</tr>
<tr>
<td></td>
<td>Arguments for calling the method</td>
</tr>
<tr>
<td>opts</td>
<td>IContractSendRequestOptions</td>
</tr>
<tr>
<td></td>
<td><em>optional</em> send options</td>
</tr>
<tr>
<td>@return</td>
<td>Promise&lt;IContractSendResult&gt;</td>
</tr>
<tr>
<td></td>
<td>call result, with ABI decoded outputs</td>
</tr>
</tbody></table>
<h3 id='references'>References</h3>
<ul>
<li><a href="#icontractsendrequestoptions">IContractSendRequestOptions</a></li>
<li><a href="#icontractsendresult">IContractSendResult</a></li>
</ul>
<h1 id='types-lexicon'>Types Lexicon</h1><h2 id='icontractcallresult'>IContractCallResult</h2><pre class="highlight typescript"><code><span class="k">export</span> <span class="kr">interface</span> <span class="nx">IContractCallDecodedResult</span> <span class="k">extends</span> <span class="nx">IRPCCallContractResult</span> <span class="p">{</span>
  <span class="nl">outputs</span><span class="p">:</span> <span class="kr">any</span><span class="p">[]</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kr">interface</span> <span class="nx">IRPCCallContractResult</span> <span class="p">{</span>
  <span class="nl">address</span><span class="p">:</span> <span class="kr">string</span>
  <span class="nl">executionResult</span><span class="p">:</span> <span class="nx">IExecutionResult</span><span class="p">,</span>
  <span class="nx">transactionReceipt</span><span class="p">:</span> <span class="p">{</span>
    <span class="nl">stateRoot</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
    <span class="nx">gasUsed</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
    <span class="nx">bloom</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
    <span class="nx">log</span><span class="p">:</span> <span class="kr">any</span><span class="p">[],</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kr">interface</span> <span class="nx">IExecutionResult</span> <span class="p">{</span>
  <span class="nl">gasUsed</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
  <span class="nx">excepted</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
  <span class="nx">newAddress</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
  <span class="nx">output</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
  <span class="nx">codeDeposit</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
  <span class="nx">gasRefunded</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
  <span class="nx">depositSize</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
  <span class="nx">gasForDeposit</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
<span class="p">}</span>
</code></pre>
<p>The return type of <code>Contract#call</code>.</p>
<h2 id='icontractsendrequestoptions'>IContractSendRequestOptions</h2>
<p>Options for <a href="#send">Contract#send</a></p>
<pre class="highlight typescript"><code><span class="cm">/**
 * Options for `send` to a contract method.
 */</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">IContractSendRequestOptions</span> <span class="p">{</span>
  <span class="cm">/**
   * The amount in QTUM to send. eg 0.1, default: 0
   */</span>
  <span class="nx">amount</span><span class="p">?:</span> <span class="kr">number</span> <span class="o">|</span> <span class="kr">string</span>

  <span class="cm">/**
   * gasLimit, default: 200000, max: 40000000
   */</span>
  <span class="nx">gasLimit</span><span class="p">?:</span> <span class="kr">number</span>

  <span class="cm">/**
   * Qtum price per gas unit, default: 0.00000001, min:0.00000001
   */</span>
  <span class="nx">gasPrice</span><span class="p">?:</span> <span class="kr">number</span> <span class="o">|</span> <span class="kr">string</span>

  <span class="cm">/**
   * The quantum address that will be used as sender.
   */</span>
  <span class="nx">senderAddress</span><span class="p">?:</span> <span class="kr">string</span>
<span class="p">}</span>
</code></pre><h2 id='icontractsendresult'>IContractSendResult</h2><pre class="highlight typescript"><code><span class="kd">const</span> <span class="nx">tx</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">contract</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">method</span><span class="p">,</span> <span class="nx">args</span><span class="p">)</span>
<span class="k">await</span> <span class="nx">tx</span><span class="p">.</span><span class="nx">confirm</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">(</span><span class="nx">updatedTx</span><span class="p">,</span> <span class="nx">receipt</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">/// ...</span>
<span class="p">})</span>
</code></pre>
<p>Return value of <a href="#send">Contract#send</a>.</p>

<p>The <code>confirm</code> method is used to wait for transaction confirmations.</p>

<p>The arguments for <code>confirm</code>:</p>

<table><thead>
<tr>
<th>Arg</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>n</td>
<td>number</td>
</tr>
<tr>
<td></td>
<td><em>optional</em> Number of confirmations to wait for.</td>
</tr>
<tr>
<td>callback</td>
<td>IContractSendConfirmationHandler</td>
</tr>
<tr>
<td></td>
<td><em>optional</em> The callback function invoked for each additional confirmation</td>
</tr>
</tbody></table>

<p>The callback values are:</p>

<table><thead>
<tr>
<th>Arg</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td>updatedTx</td>
<td>IRPCGetTransactionResult</td>
</tr>
<tr>
<td></td>
<td>Basic information about a transaction submitted to the network.</td>
</tr>
<tr>
<td>receipt</td>
<td>IContractSendReceipt</td>
</tr>
<tr>
<td></td>
<td>Additional information about a confirmed transaction.</td>
</tr>
</tbody></table>
<h3 id='references-2'>References</h3>
<ul>
<li><a href="#irpcgettransactionresult">IRPCGetTransactionResult</a></li>
<li><a href="#icontractsendreceipt">IContractSendReceipt</a></li>
</ul>
<h2 id='irpcgettransactionresult'>IRPCGetTransactionResult</h2><pre class="highlight typescript"><code><span class="k">export</span> <span class="kr">interface</span> <span class="nx">IRPCGetTransactionResult</span> <span class="p">{</span>
  <span class="nl">amount</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
  <span class="nx">fee</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
  <span class="nx">confirmations</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
  <span class="nx">blockhash</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
  <span class="nx">blockindex</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
  <span class="nx">blocktime</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
  <span class="nx">txid</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
  <span class="c1">// FIXME: Need better typing</span>
  <span class="nx">walletconflicts</span><span class="p">:</span> <span class="kr">any</span><span class="p">[],</span>
  <span class="nx">time</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
  <span class="nx">timereceived</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span>
  <span class="s2">"bip125-replaceable"</span><span class="p">:</span> <span class="s2">"no"</span> <span class="o">|</span> <span class="s2">"yes"</span> <span class="o">|</span> <span class="s2">"unknown"</span><span class="p">,</span>
  <span class="c1">// FIXME: Need better typing</span>
  <span class="nx">details</span><span class="p">:</span> <span class="kr">any</span><span class="p">[]</span>
  <span class="nl">hex</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
<span class="p">}</span>
</code></pre>
<p>Basic information about a transaction submitted to the network.</p>
<h2 id='icontractsendreceipt'>IContractSendReceipt</h2>
<p>The transaction receipt for <a href="#send">Contract#send</a>, with the event logs decoded.</p>
<pre class="highlight typescript"><code><span class="k">export</span> <span class="kr">interface</span> <span class="nx">IContractSendReceipt</span> <span class="k">extends</span> <span class="nx">IRPCGetTransactionReceiptBase</span> <span class="p">{</span>
  <span class="cm">/**
   * logs decoded using ABI
   */</span>
  <span class="nl">logs</span><span class="p">:</span> <span class="nx">IDecodedLog</span><span class="p">[],</span>

  <span class="cm">/**
   * undecoded logs
   */</span>
  <span class="nx">rawlogs</span><span class="p">:</span> <span class="nx">ITransactionLog</span><span class="p">[],</span>
<span class="p">}</span>

<span class="cm">/**
 * A decoded Solidity event log
 */</span>
<span class="k">export</span> <span class="kr">interface</span> <span class="nx">IDecodedLog</span> <span class="p">{</span>
  <span class="cm">/**
   * The event log's name
   */</span>
  <span class="nl">type</span><span class="p">:</span> <span class="kr">string</span>

  <span class="cm">/**
   * Arguments to event log as key-value map
   */</span>
  <span class="p">[</span><span class="nx">key</span><span class="p">:</span> <span class="kr">string</span><span class="p">]:</span> <span class="kr">any</span>
<span class="p">}</span>
</code></pre>
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="typescript">typescript</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
